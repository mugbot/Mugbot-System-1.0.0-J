<!DOCTYPE html>
<html>
<head>
<!-- Mugbot Poject Tokyo City University Koike Lab. Japan 2014.11-->
<!-- English comments and translations added by Hans Chun, using Google Translate 2015.6-->
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Mugbot Interface</title>

<link href="jquery.mobile-1.4.4.min.css" rel="stylesheet" >
<script src="jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="jquery.mobile-1.4.4.min.js" type="text/javascript"></script>

<script>
$(function(){
//Enter your function here.

//Description
//$ ("Selector") method (parameters);

////////////////////WebStorage///////////////////////////
  //var variable
  //var str  //variable string name

	 var  str=localStorage.getItem( "s0")	
	 $("#t0").val(str)
	 var  str=localStorage.getItem( "s1")	
	 $("#t1").val(str)
	 var  str=localStorage.getItem( "s2")	
	 $("#t2").val(str)
	 var  str=localStorage.getItem( "s3")	
	 $("#t3").val(str)
	 var  str=localStorage.getItem( "s4")	
	 $("#t4").val(str)
	 var  str=localStorage.getItem( "s5")	
	 $("#t5").val(str)
	 var  str=localStorage.getItem( "s6")	
	 $("#t6").val(str)
	 var  str=localStorage.getItem( "s7")	
	 $("#t7").val(str)
	 var  str=localStorage.getItem( "s8")	
	 $("#t8").val(str)
	 var  str=localStorage.getItem( "s9")	
	 $("#t9").val(str)


////////////////////WebSocket Connection///////////////////////////
   ws = new WebSocket("ws://192.168.42.1:51234");
    ws.onmessage = function(evt) {
        $("#msg").append("<p>"+evt.data+"</p>");
   };
// 192.168.42.1 is the default IP address of the Raspberry Pi. 
//Change to your Pi's IP address.   

//////////////////////Speech synthesis///////////////////////////////
   $("#input").keypress(function(e){
       if(e.keyCode ==13){
           var val = $("#input").val()
           ws.send(val)
       }
   });


//////////////////////Preset voice//////////////////////////
   //$("Element").click(function(e){
   //Any processing
   //}
　　//Process occurs when the element is clicked

   $("#v1").click(function(e){
                ws.send("こんにちは")
   });  
   //Say "hello" when the button is clicked
   //Speak the words that were changed to change the "Hello"   
   $("#v2").click(function(e){
                ws.send("はじめまして")
   });      
   $("#v3").click(function(e){
                ws.send("ようこそ")
   });      
   $("#v4").click(function(e){
                ws.send("私はマグボットです")
   });      
   $("#v5").click(function(e){
                ws.send("どこから来たのですか？")
   });      
   $("#v6").click(function(e){
                ws.send("ロボットについて知っていますか？")
   });      
   $("#v7").click(function(e){
                ws.send("私の体は100円ショップの材料でできています")
   });      
   $("#v8").click(function(e){
                ws.send("ありがとうございます")
   });      
   $("#v9").click(function(e){
                ws.send("お腹がすきました")
   });      
   $("#v10").click(function(e){
                ws.send("とてもきれいですね")
   });      
   $("#v11").click(function(e){
                ws.send("私を操作してみてください")
   });      
   $("#v12").click(function(e){
                ws.send("楽しいです")
   });      
   $("#v13").click(function(e){
                ws.send("お元気ですか？")
   });      
   $("#v14").click(function(e){
                ws.send("今日は暑いですね")
   });      
   $("#v15").click(function(e){
                ws.send("眠くなってしまいました")
   });      
   $("#v16").click(function(e){
                ws.send("世界中で私は働いています")
   });      
   $("#v17").click(function(e){
                ws.send("はい")
   });      
   $("#v18").click(function(e){
                ws.send("いいえ")
   });      
   $("#v19").click(function(e){
                ws.send("そのとおりです")
   });      
   $("#v20").click(function(e){
                ws.send("さようなら")
   });        


/////////////////////Preset action////////////////////////
   $("#act1").click(function(e){
                ws.send("@h")//"Yes" expression
   });
   $("#act2").click(function(e){
                ws.send("@f")//"No" expression
   });     
   $("#act3").click(function(e){
                ws.send("")//No expression?
   });      
   $("#act4").click(function(e){
                ws.send("@l")//"Laughing" expression
   });          
   $("#act5").click(function(e){
                ws.send("@s")//"Sad" expression
   });       
   $("#act6").click(function(e){
                ws.send("@b")//"Surprised" expression
   });
   $("#act7").click(function(e){
                ws.send("@e")//"Anxious?"/"Stressed?" expression
   }); 
   $("#act8").click(function(e){
                ws.send("@w")//"Wink" expression
   });                 


///////////////////////Sliders///////////////////////////    
   $('#slider0').change(function() {
	       var value0 = $('#slider0').val(); 
	       ws.send("@y"+value0)
	 });    
	    
	 $('#slider1').change(function() {
	       var value1 = $('#slider1').val(); 
	       ws.send("@x"+value1)       
	 }); 
	    
	 $('#slider2').change(function() {
	       var value2 = $('#slider2').val(); 
	       ws.send("@z"+value2)      
	 }); 


/////////////////////WebStorageSave/////////////////////////
	 $("#b0").buttonMarkup({inline:"true"});
	 $("#b0").click(function(e){
         var val0 = $("#t0").val()
         ws.send(val0)
     	   localStorage.setItem( "s0",val0)
   });	
	 $("#b1").buttonMarkup({inline:"true"});
	 $("#b1").click(function(e){
         var val1 = $("#t1").val()
         ws.send(val1)
     	   localStorage.setItem( "s1",val1)
   });	   
 	 $("#b2").buttonMarkup({inline:"true"});
	 $("#b2").click(function(e){
         var val2 = $("#t2").val()
         ws.send(val2)
     	   localStorage.setItem( "s2",val2)
   });	
	 $("#b3").buttonMarkup({inline:"true"});
	 $("#b3").click(function(e){
         var val3 = $("#t3").val()
         ws.send(val3)
     	   localStorage.setItem( "s3",val3)
   });
	 $("#b4").buttonMarkup({inline:"true"});
	 $("#b4").click(function(e){
         var val4 = $("#t4").val()
         ws.send(val4)
     	   localStorage.setItem( "s4",val4)
   });	
 	 $("#b5").buttonMarkup({inline:"true"});
	 $("#b5").click(function(e){
         var val5 = $("#t5").val()
         ws.send(val5)
     	   localStorage.setItem( "s5",val5)
   });	
	 $("#b6").buttonMarkup({inline:"true"});
	 $("#b6").click(function(e){
         var val6 = $("#t6").val()
         ws.send(val6)
     	   localStorage.setItem( "s6",val6)
   });	   
 	 $("#b7").buttonMarkup({inline:"true"});
	 $("#b7").click(function(e){
         var val7 = $("#t7").val()
         ws.send(val7)
     	   localStorage.setItem( "s7",val7)
   });	
	 $("#b8").buttonMarkup({inline:"true"});
	 $("#b8").click(function(e){
         var val8 = $("#t8").val()
         ws.send(val8)
     	   localStorage.setItem( "s8",val8)
   });   
	 $("#b9").buttonMarkup({inline:"true"});
	 $("#b9").click(function(e){
         var val9 = $("#t9").val()
         ws.send(val9)
     	   localStorage.setItem( "s9",val9)
   });                 
});                
</script>
</head><!-- head end -->


<body>
<div data-role="page" id="page">
   <div data-role="header" data-theme="a">
       <h1>Mugbot System 1.0.0</h1>
   </div>
   <div data-role="content">
       <div data-role="fieldcontain">
          <label for="textinput">話す Speak　:</label>
          <input type="text" name="textinput" id="input" />
       </div>
	   <!--Eye position, neck position, eye brightness sliders -->
       <div data-role="fieldcontain">
          <label for="slider0">上下 Up/down :</label>
          <input type="range" name="slider0" id="slider0" value="90" min="75" max="105" />
       </div>
       <div data-role="fieldcontain">
          <label for="slider1">左右 Left/right :</label>
          <input type="range" name="slider1" id="slider1" value="90" min="0" max="180" />
       </div>
       <div data-role="fieldcontain">
	        <label for="slider2">目 Brightness:</label>
	       <input type="range" name="slider2" id="slider2" value="50" min="0" max="255" />
       </div>

       アクション Action : 
       <!-- Action button area -->
       <div class="ui-grid-a">
          <div class="ui-block-a">
            <input type="button" id= "act1" value="はい Okay" />
          </div>
          <div class="ui-block-b">
            <input type="button" id= "act2" value="いいえ No" />
          </div>
          <div class="ui-block-a">
            <input type="button" id= "act3" value="正面 Affirmative" />
          </div>
          <div class="ui-block-b">
            <input type="button" id= "act4" value="笑う Laugh" />
          </div>
          <div class="ui-block-a">
            <input type="button" id= "act5" value="悲しい Sad" />
          </div>
          <div class="ui-block-b">
            <input type="button" id= "act6" value="びっくり Surprised" />
          </div>
          <div class="ui-block-a">
            <input type="button" id= "act7" value="ハイテンション Anxious" />
          </div>
          <div class="ui-block-b">
            <input type="button" id= "act8" value="ウィンク Wink" />
          </div>
       </div>
   <hr>

   <br>
   <ul data-role="listview">
      <li>
        <a href="#page2">プリセット発話 Preset Speech</a>
      </li>
      <li>
        <a href="#page3">ユーザー発話 User Speech</a>
      </li>
   </ul>
   </div>
   <div data-role="footer" data-theme="a">
        <h4></h4>
   </div>
</div><!-- page end -->

<div data-role="page" id="page2" data-add-back-btn="true">
   <div data-role="header" data-theme="a">
        <h1>プリセット発話 Preset Speech</h1>
   </div>
   <div data-role="content">
        <!-- Preset Speech Area -->
        <!-- Button names and speech content have to match -->
        <input type="button" id="v1" value="こんにちは Hello" />
        <input type="button" id="v2" value="はじめまして Nice to meet you" />
        <input type="button" id="v3" value="ようこそ Welcome, nice to see you" />
        <input type="button" id="v4" value="私はマグボットです I am Mugbot" />
        <input type="button" id="v5" value="どこから来たのですか？ Where are you from?"/>
        <input type="button" id="v6" value="ロボットについて知っていますか？ Do you know about robots?" />
        <input type="button" id="v7" value="私の体は100円ショップの材料でできています My body is made of 100 yen shop materials" />
        <input type="button" id="v8" value="ありがとうございます Thank you" />
        <input type="button" id="v9" value="お腹がすきました" />
        <input type="button" id="v10" value="とてもきれいです It is very beautiful" />
        <input type="button" id="v11" value="私を操作してみてください Play with me please" />
        <input type="button" id="v12" value="楽しいです This is fun" />
        <input type="button" id="v13" value="お元気ですか？ How are you?" />
        <input type="button" id="v14" value="今日は暑いですね It is hot today" />
        <input type="button" id="v15" value="眠いです I am sleepy" />
        <input type="button" id="v16" value="世界中で私は働いています I'm working all over the world" />
        <input type="button" id="v17" value="はい Okay" />
        <input type="button" id="v18" value="いいえ No" />
        <input type="button" id="v19" value="そのとおりです That is correct" />
        <input type="button" id="v20" value="さようなら Goodbye" />

   </div>
   <div data-role="footer" data-theme="a">
        <h4></h4>
   </div>
</div><!-- page2 end -->

<div data-role="page" id="page3" data-add-back-btn="true">
   <div data-role="header" data-theme="a">
        <h1>ユーザー発話 User Speech</h1>
   </div>
   <div data-role="fieldcontain">
   <!-- User speech input area -->
        <input type="text" id= "t0" value="" />
        <input type="button" id= "b0" value="話す Speak" />

        <input type="text" id= "t1" value="" />
        <input type="button" id= "b1" value="話す Speak" />
        
        <input type="text" id= "t2" value="" />
        <input type="button" id= "b2" value="話す Speak" />
        
        <input type="text" id= "t3" value="" />
        <input type="button" id= "b3" value="話す Speak" />
        
        <input type="text" id= "t4" value="" />
        <input type="button" id= "b4" value="話す Speak" />
        
        <input type="text" id= "t5" value="" />
        <input type="button" id= "b5" value="話す Speak" />
        
        <input type="text" id= "t6" value="" />
        <input type="button" id= "b6" value="話す Speak" />
        
        <input type="text" id= "t7" value="" />
        <input type="button" id= "b7" value="話す Speak" />
        
        <input type="text" id= "t8" value="" />
        <input type="button" id= "b8" value="話す Speak" />
        
        <input type="text" id= "t9" value="" />
        <input type="button" id= "b9" value="話す Speak" />
   </div>
   <div data-role="footer" data-theme="a">
        <h4></h4>
   </div>
</div><!-- page3 end -->
</body><!-- body end -->
</html>
